(this.webpackJsonpmedium_clone=this.webpackJsonpmedium_clone||[]).push([[0],{32:function(e,t,a){e.exports=a(70)},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),s=a(2),o=a(9),i=a(1),m=a(7),u=function(e){var t=e.tags;return r.a.createElement("ul",{className:"tag-list"},t.map((function(e){return r.a.createElement("li",{key:e,className:"tag-default tag pill tag-outline"},e)})))},f=a(13),E=a.n(f),p=a(11),g=a(28),b=a.n(g),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(n.useState)((function(){return localStorage.getItem(e)||t})),r=Object(i.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){localStorage.setItem(e,c)}),[c,e]),[c,l]};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),s=Object(i.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)(null),f=Object(i.a)(u,2),E=f[0],g=f[1],O=Object(n.useState)({}),N=Object(i.a)(O,2),j=N[0],h=N[1],y=d("token"),S=Object(i.a)(y,1)[0],w=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(e),c(!0)}),[]);return Object(n.useEffect)((function(){var t=!1;if(r){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},j,{},{headers:{authorization:S?"Token ".concat(S):""}});return b()("https://conduit.productionready.io/api"+e,a).then((function(e){t||(m(e.data),c(!1))})).catch((function(e){t||(g(e.response.data),c(!1))})),function(){t=!0}}}),[r,e,j,S]),[{isLoading:r,response:o,error:E},w]},N=function(e){var t=e.isFavorited,a=e.favoritesCount,n=e.articleSlug,c="/articles/".concat(n,"/favorite"),l=O(c),s=Object(i.a)(l,2),o=s[0].response,m=s[1],u=o?o.article.favorited:t,f=o?o.article.favoritesCount:a,p=E()({btn:!0,"btn-sm":!0,"btn-primary":u,"btn-outline-primary":!u});return r.a.createElement("button",{className:p,onClick:function(e){e.preventDefault(),m({method:u?"delete":"post"})}},r.a.createElement("i",{className:"ion-heart"}),r.a.createElement("span",null,"\xa0 ",f))},j=function(e){var t=e.articles;return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{className:"article-preview",key:t},r.a.createElement("div",{className:"article-meta"},r.a.createElement(s.b,{to:"/profiles/".concat(e.author.username)},r.a.createElement("img",{src:e.author.image,alt:""})),r.a.createElement("div",{className:"info"},r.a.createElement(s.b,{to:"/profiles/".concat(e.author.username),className:"author"},e.author.username),r.a.createElement("span",{className:"date"},e.createdAt)),r.a.createElement("div",{className:"pull-xs-right"},r.a.createElement(N,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,articleSlug:e.slug}))),r.a.createElement(s.b,{to:"/articles/".concat(e.slug),className:"preview-link"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("span",null,"Read more..."),r.a.createElement(u,{tags:e.tagList})))})))},h=a(31),y=function(e){var t=Object(m.parse)(e),a=t.page?Number(t.page):1;return{currentPage:a,offset:10*a-10}},S=function(e){var t=e.page,a=e.currentPage,n=e.url,c=E()({"page-item":!0,active:a===t});return r.a.createElement("li",{className:c},r.a.createElement(s.b,{to:"".concat(n,"?page=").concat(t),className:"page-link"},t))},w=function(e){var t,a,n=e.total,c=e.limit,l=e.url,s=e.currentPage,o=Math.ceil(n/c),i=(t=1,a=o,Object(h.a)(Array(a).keys()).map((function(e){return e+t})));return r.a.createElement("ul",{className:"pagination"},i.map((function(e){return r.a.createElement(S,{page:e,key:e,currentPage:s,url:l})})))},x=function(){return r.a.createElement("div",null,"Something bad happened...")},P=function(){return r.a.createElement("div",null,"Loading...")},k=function(){var e=O("/tags"),t=Object(i.a)(e,2),a=t[0],c=a.response,l=a.isLoading,o=a.error,m=t[1];return Object(n.useEffect)((function(){m()}),[m]),l||!c?r.a.createElement(P,null):o?r.a.createElement(x,null):r.a.createElement("div",{className:"sidebar"},r.a.createElement("p",null,"Popular tags"),r.a.createElement("div",{className:"tag-list"},c.tags.map((function(e){return r.a.createElement(s.b,{to:"/tags/".concat(e),className:"tag-default tag-pill",key:e},e)}))))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={isLoading:!1,isLoggedIn:null,currentUser:null},U=function(e,t){switch(t.type){case"LOADING":return L({},e,{isLoading:!0});case"SET_AUTHORIZED":return L({},e,{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return L({},e,{isLoggedIn:!1,currentUser:null});default:return e}},I=Object(n.createContext)(),A=function(e){var t=e.children,a=Object(n.useReducer)(U,D);return r.a.createElement(I.Provider,{value:a},t)},T=function(e){var t=e.tagName,a=Object(n.useContext)(I),c=Object(i.a)(a,1)[0];return r.a.createElement("div",{className:"feed-toggler"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},c.isLoggedIn&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/feed",className:"nav-link"},"Your feed")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/",className:"nav-link",exact:!0},"Global feed")),t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/tags/".concat(t),className:"nav-link",exact:!0},r.a.createElement("i",{className:"ion-pound"}),t))))},F=function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,"Medium Clone"),r.a.createElement("p",null,"A place to share knowledge"))},R=function(e){var t=e.location,a=e.match,c=y(t.search),l=c.offset,s=c.currentPage,o=Object(m.stringify)({limit:10,offset:l}),u="/articles?".concat(o),f=a.url,E=O(u),p=Object(i.a)(E,2),g=p[0],b=g.response,d=g.error,v=g.isLoading,N=p[1];return Object(n.useEffect)((function(){N()}),[s,N]),r.a.createElement("div",{className:"home-page"},r.a.createElement(F,null),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(T,null),v&&r.a.createElement(P,null),d&&r.a.createElement(x,null),!v&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(j,{articles:b.articles}),r.a.createElement(w,{total:b.articlesCount,limit:10,url:f,currentPage:s}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(k,null)))))},_=function(e){var t=e.location,a=e.match,c=y(t.search),l=c.offset,s=c.currentPage,o=Object(m.stringify)({limit:10,offset:l}),u="/articles/feed?".concat(o),f=a.url,E=O(u),p=Object(i.a)(E,2),g=p[0],b=g.response,d=g.error,v=g.isLoading,N=p[1];return Object(n.useEffect)((function(){N()}),[s,N]),r.a.createElement("div",{className:"home-page"},r.a.createElement(F,null),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(T,null),v&&r.a.createElement(P,null),d&&r.a.createElement(x,null),!v&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(j,{articles:b.articles}),r.a.createElement(w,{total:b.articlesCount,limit:10,url:f,currentPage:s}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(k,null)))))},H=function(e){var t=e.location,a=e.match,c=a.params.slug;console.log("tagName",c);var l=y(t.search),s=l.offset,o=l.currentPage,u=Object(m.stringify)({limit:10,offset:s,tag:c}),f="/articles?".concat(u),E=a.url,p=O(f),g=Object(i.a)(p,2),b=g[0],d=b.response,v=b.error,N=b.isLoading,h=g[1];return Object(n.useEffect)((function(){h()}),[o,h]),r.a.createElement("div",{className:"home-page"},r.a.createElement(F,null),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(T,{tagName:c}),N&&r.a.createElement(P,null),v&&r.a.createElement(x,null),!N&&d&&r.a.createElement(n.Fragment,null,r.a.createElement(j,{articles:d.articles}),r.a.createElement(w,{total:d.articlesCount,limit:10,url:E,currentPage:o}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(k,null)))))},Z=function(e){var t=e.match.params.slug,a="/articles/".concat(t),c=O(a),l=Object(i.a)(c,2),m=l[0],f=m.response,E=m.error,p=m.isLoading,g=l[1],b=O(a),d=Object(i.a)(b,2),v=d[0].response,N=d[1],j=Object(n.useContext)(I),h=Object(i.a)(j,1)[0],y=Object(n.useState)(!1),S=Object(i.a)(y,2),w=S[0],k=S[1];return Object(n.useEffect)((function(){g()}),[g]),Object(n.useEffect)((function(){v&&k(!0)}),[v]),w?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"article-page"},r.a.createElement("div",{className:"banner"},!p&&f&&r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,f.article.title),r.a.createElement("div",{className:"article-meta"},r.a.createElement(s.b,{to:"/profiles/".concat(f.article.author.username)},r.a.createElement("img",{src:f.article.author.image,alt:""})),r.a.createElement("div",{className:"info"},r.a.createElement(s.b,{to:"/profiles/".concat(f.article.author.username)},f.article.author.username),r.a.createElement("span",{className:"date"},f.article.createdAt)),!(null===h.isLoggedIn||!f)&&h.currentUser.username===f.article.author.username&&r.a.createElement("span",null,r.a.createElement(s.b,{to:"/articles/".concat(f.article.slug,"/edit"),className:"btn btn-outline-secondary btn-sm"},r.a.createElement("i",{className:"ion-edit"}),"Edit Article"),r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){N({method:"delete"})}},r.a.createElement("i",{className:"ion-trash-a"}),"Delete Article"))))),r.a.createElement("div",{className:"container page"},p&&r.a.createElement(P,null),E&&r.a.createElement(x,null),!p&&f&&r.a.createElement("div",{className:"row article-content"},r.a.createElement("div",null,r.a.createElement("p",null,f.article.body)),r.a.createElement(u,{tags:f.article.tagList})),r.a.createElement("hr",null)))},M=function(e){var t=e.backendErrors,a=Object.keys(t).map((function(e){var a=t[e].join(" ");return"".concat(e," ").concat(a)}));return r.a.createElement("ul",{className:"error-messages"},a.map((function(e){return r.a.createElement("li",{key:e},e)})))},G=function(e){var t="/login"===e.match.path,a=t?"Sign In":"Sign Up",c=t?"/register":"/login",l=t?"Need an account?":"Have an account?",m=t?"/users/login":"/users",u=Object(n.useState)(""),f=Object(i.a)(u,2),E=f[0],p=f[1],g=Object(n.useState)(""),b=Object(i.a)(g,2),v=b[0],N=b[1],j=Object(n.useState)(""),h=Object(i.a)(j,2),y=h[0],S=h[1],w=Object(n.useState)(!1),x=Object(i.a)(w,2),P=x[0],k=x[1],C=O(m),L=Object(i.a)(C,2),D=L[0],U=D.isLoading,A=D.response,T=D.error,F=L[1],R=d("token"),_=Object(i.a)(R,2)[1],H=Object(n.useContext)(I),Z=Object(i.a)(H,2)[1];return Object(n.useEffect)((function(){A&&(console.log("response",A),_(A.user.token),k(!0),Z({type:"SET_AUTHORIZED",payload:A.user}))}),[A,_,Z]),P?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},a),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(s.b,{to:c},l)),T&&r.a.createElement(M,{backendErrors:T.errors}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),F({method:"post",data:{user:t?{email:E,password:v}:{email:E,password:v,username:y}}}),console.log("values",E,v)}},r.a.createElement("fieldset",null,!t&&r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",value:E,onChange:function(e){return p(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",value:v,onChange:function(e){return N(e.target.value)}})),r.a.createElement("button",{disabled:U,className:"btn btn-lg btn-primary pull-xs-right",type:"submit"},a)))))))},V=function(e){var t=e.onSubmit,a=e.errors,c=e.initialValues,l=Object(n.useState)(""),s=Object(i.a)(l,2),o=s[0],m=s[1],u=Object(n.useState)(""),f=Object(i.a)(u,2),E=f[0],p=f[1],g=Object(n.useState)(""),b=Object(i.a)(g,2),d=b[0],v=b[1],O=Object(n.useState)(""),N=Object(i.a)(O,2),j=N[0],h=N[1];return Object(n.useEffect)((function(){c&&(m(c.title),p(c.description),v(c.body),h(c.tagList))}),[c]),console.log("fields",o,d,E,j),r.a.createElement("div",{className:"editor-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},a&&r.a.createElement(M,{backendErrors:a}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={title:o,description:E,body:d,tagList:j.split(" ")};t(a)}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article title",value:o,onChange:function(e){return m(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"What is this article about?",value:E,onChange:function(e){return p(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",value:d,onChange:function(e){return v(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter tags",value:j,onChange:function(e){return h(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-lg pull-xs-right btn-primary"},"Publish Article"))))))))},J=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=O("/articles"),s=Object(i.a)(l,2),m=s[0],u=m.response,f=m.error,E=s[1],p=Object(n.useContext)(I),g=Object(i.a)(p,1)[0];return Object(n.useEffect)((function(){u&&c(!0)}),[u]),null===g.isLoggedIn?null:a||!1===g.isLoggedIn?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(V,{onSubmit:function(e){E({method:"post",data:{article:e}})},initialValues:{title:"",description:"",body:"",tagList:""},errors:f&&f.errors||{}}))},W=function(e){var t=e.match.params.slug,a="/articles/".concat(t),c=Object(n.useState)(!1),l=Object(i.a)(c,2),s=l[0],m=l[1],u=O(a),f=Object(i.a)(u,2),E=f[0],p=E.response,g=E.error,b=f[1],d=O(a),v=Object(i.a)(d,2),N=v[0].response,j=v[1],h=Object(n.useContext)(I),y=Object(i.a)(h,1)[0],S=Object(n.useState)(null),w=Object(i.a)(S,2),x=w[0],P=w[1];return Object(n.useEffect)((function(){j()}),[j]),Object(n.useEffect)((function(){N&&P({title:N.article.title,description:N.article.description,body:N.article.body,tagList:N.article.tagList.join(" ")})}),[N]),Object(n.useEffect)((function(){p&&m(!0)}),[p]),null===y.isLoggedIn?null:!1===y.isLoggedIn?r.a.createElement(o.a,{to:"/"}):s?r.a.createElement(o.a,{to:"/articles/".concat(t)}):r.a.createElement("div",null,r.a.createElement(V,{onSubmit:function(e){b({method:"put",data:{article:e}})},initialValues:x,errors:g&&g.errors||{}}))};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(){var e=O("/user"),t=Object(i.a)(e,2),a=t[0],c=a.response,l=a.error,s=t[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),f=u[0],E=u[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),b=g[0],v=g[1],N=Object(n.useState)(""),j=Object(i.a)(N,2),h=j[0],y=j[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),x=w[0],P=w[1],k=Object(n.useState)(""),C=Object(i.a)(k,2),L=C[0],D=C[1],U=Object(n.useContext)(I),A=Object(i.a)(U,2),T=A[0],F=A[1],R=d("token"),_=Object(i.a)(R,2)[1],H=Object(n.useState)(!1),Z=Object(i.a)(H,2),G=Z[0],V=Z[1];return Object(n.useEffect)((function(){if(T.currentUser){var e=T.currentUser;E(e.username),v(e.image),y(e.bio),P(e.email)}}),[T.currentUser]),Object(n.useEffect)((function(){c&&F({type:"SET_AUTHORIZED",payload:c.user})}),[c,F]),G?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"settings-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Your settings"),l&&r.a.createElement(M,{backendErrors:l.errors}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s({method:"put",data:{user:z({},T.currentUser,{image:b,bio:h,username:f,email:x,password:L})}})}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"URL of profile picture",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:f,onChange:function(e){return E(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:"form-control form-control-lg",placeholder:"Short bio",value:h,rows:"8",onChange:function(e){return y(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Email",value:x,onChange:function(e){return P(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"New password",value:L,onChange:function(e){return D(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right"},"Update settings"))),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),_(""),F({type:"SET_UNAUTHORIZED"}),V(!0)}},"Or click here to logout.")))))},q=function(e){var t=e.username,a=e.location,c=e.url,l=a.pathname.includes("favorites"),s=y(a.search),o=s.offset,u=s.currentPage,f=function(e){var t=e.username,a=e.offset,n=e.isFavorites?{limit:10,offset:a,favorited:t}:{limit:10,offset:a,author:t};return"/articles?".concat(Object(m.stringify)(n))}({username:t,offset:o,isFavorites:l}),E=O(f),p=Object(i.a)(E,2),g=p[0],b=g.response,d=g.isLoading,v=g.error,N=p[1];return Object(n.useEffect)((function(){N()}),[N,l,u]),r.a.createElement("div",null,d&&r.a.createElement(P,null),v&&r.a.createElement(x,null),!d&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(j,{articles:b.articles}),r.a.createElement(w,{total:b.articlesCount,limit:10,url:c,currentPage:u})))},K=function(e){var t=e.match,a=e.location,c=t.params.slug,l="/profiles/".concat(c),o=O(l),m=Object(i.a)(o,2),u=m[0].response,f=m[1];return Object(n.useEffect)((function(){f()}),[f]),u?r.a.createElement("div",{className:"profile-page"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("img",{className:"user-img",alt:"",src:u.profile.image}),r.a.createElement("h4",null,u.profile.username),r.a.createElement("p",null,u.profile.bio))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-md-1"},r.a.createElement("div",{className:"articles-toggle"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{exact:!0,to:"/profiles/".concat(u.profile.username),className:"nav-link"},"My Posts")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/profiles/".concat(u.profile.username,"/favorites"),className:"nav-link"},"Favorites Posts")))),r.a.createElement(q,{username:u.profile.username,location:a,url:t.url}))))):null},Q=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",component:R,exact:!0}),r.a.createElement(o.b,{path:"/profiles/:slug",component:K}),r.a.createElement(o.b,{path:"/profiles/:slug/favorites",component:K}),r.a.createElement(o.b,{path:"/settings",component:B,exact:!0}),r.a.createElement(o.b,{path:"/articles/new",component:J}),r.a.createElement(o.b,{path:"/articles/:slug/edit",component:W}),r.a.createElement(o.b,{path:"/feed",component:_,exact:!0}),r.a.createElement(o.b,{path:"/tags/:slug",component:H}),r.a.createElement(o.b,{path:"/articles/:slug",component:Z}),r.a.createElement(o.b,{path:"/login",component:G}),r.a.createElement(o.b,{path:"/register",component:G}))},X=function(){var e=Object(n.useContext)(I),t=Object(i.a)(e,1)[0],a=t.isLoggedIn&&t.currentUser.image||"https://static.productionready.io/images/smiley-cyrus.jpg";return r.a.createElement("nav",{className:"navbar navbar-light"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},"Medium"),r.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/",className:"nav-link",exact:!0},"Home")),t.isLoggedIn&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/articles/new",className:"nav-link"},r.a.createElement("i",{className:"ion-compose"}),"\xa0 New Post")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/settings",className:"nav-link"},r.a.createElement("i",{className:"ion-gear-a"}),"\xa0 Settings")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/profiles/".concat(t.currentUser.username),className:"nav-link"},r.a.createElement("img",{className:"user-pic",src:a,alt:""}),"\xa0 ",t.currentUser.username))),!1===t.isLoggedIn&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/login",className:"nav-link"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/register",className:"nav-link"},"Sign up"))))))},$=function(e){var t=e.children,a=Object(n.useContext)(I),r=Object(i.a)(a,2)[1],c=O("/user"),l=Object(i.a)(c,2),s=l[0].response,o=l[1],m=d("token"),u=Object(i.a)(m,1)[0];return Object(n.useEffect)((function(){u?(o(),r({type:"LOADING"})):r({type:"SET_UNAUTHORIZED"})}),[o,r,u]),Object(n.useEffect)((function(){s&&r({type:"SET_AUTHORIZED",payload:s.user})}),[s,r]),t};l.a.render(r.a.createElement((function(){return r.a.createElement(A,null,r.a.createElement($,null,r.a.createElement(s.a,{basename:"/medium_clone"},r.a.createElement(X,null),r.a.createElement(Q,null))))}),null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.14f9803f.chunk.js.map